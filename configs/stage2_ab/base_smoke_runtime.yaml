# Shared smoke runtime overrides for Stage-2 AB.
#
# Keep production hyperparameters unchanged; only reduce runtime and I/O.
training:
  # Keep smoke bounded while still exercising rollout + match + backward paths.
  max_steps: 100

  # Avoid checkpoint/eval overhead for quick validation.
  save_strategy: "steps"
  save_steps: 80
  eval_strategy: "steps"
  eval_steps: 80
  logging_steps: 2


custom:
  train_sample_limit: 2048
  val_sample_limit: 128
  extra:
    rollout_matching:
      monitor_dump:
        enabled: true
        # Follow training.logging_steps when null.
        every_steps: null
        # 100-step smoke with logging_steps=2 can emit up to ~50 events.
        max_events: 200
        max_samples: 1
        max_text_chars: 4000

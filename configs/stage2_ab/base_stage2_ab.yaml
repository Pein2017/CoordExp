# Shared Stage-2 AB defaults.
#
# Keep only contract-required or intentionally non-default knobs here.
# Schedule-specific files should set only `stage2_ab.schedule.b_ratio`.
extends: rollout_matching_sft_template.yaml

custom:
  trainer_variant: stage2_ab_training

stage2_ab:
  channel_b:
    # Downweight desc CE for matched objects; keep missing-object learning strict.
    desc_ce_weight_matched: 0.2
    semantic_desc_gate:
      # Required for reproducibility when semantic gate is enabled.
      revision: c9745ed1d9f207416be6d2e6f8de32d1f16199bf
